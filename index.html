<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–°—É–ø–µ—Ä –ö–ª–∏–∫–µ—Ä PRO</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#0b1220;
  color:#e5e7eb;
  text-align:center;
}

.container{
  max-width:1000px;
  margin:auto;
  padding:20px;
}

.stat{
  background:#1f2937;
  padding:10px;
  margin:5px;
  border-radius:10px;
}

.big{
  font-size:30px;
  padding:25px 40px;
  background:#f97316;
  border:none;
  border-radius:12px;
  color:white;
  cursor:pointer;
}

button{
  padding:10px;
  margin:5px;
  border:none;
  border-radius:8px;
  background:#22c55e;
  color:white;
  cursor:pointer;
}

button:disabled{
  background:#555;
  cursor: not-allowed;
}

.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
}

.screen{display:none}
.active{display:block}

#map{
  display:grid;
  grid-template-columns:repeat(5,80px);
  gap:6px;
  justify-content:center;
}

.cell{
  width:80px;height:80px;
  background:#064e3b;
  font-size:36px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:6px;
  cursor:pointer;
  transition:0.2s;
}
.cell:hover{background:#065f47;}
</style>
</head>

<body>

<!-- –ö–õ–ò–ö–ï–† -->
<div id="clicker" class="screen active">
<div class="container">

<h1>üî• –°—É–ø–µ—Ä –ö–ª–∏–∫–µ—Ä PRO</h1>

<div class="stat">üí∞ –ú–æ–Ω–µ—Ç—ã: <span id="coins">0</span></div>
<div class="stat">üëÜ –ó–∞ –∫–ª–∏–∫: <span id="cpc">1</span></div>
<div class="stat">‚öôÔ∏è –ü–∞—Å—Å–∏–≤: <span id="auto">0</span>/—Å–µ–∫</div>
<div class="stat">üèô –ì–æ—Ä–æ–¥: <span id="cityInc">0</span>/—Å–µ–∫</div>

<button id="clickBtn" class="big">–ö–õ–ò–ö</button>

<h2>–£–ª—É—á—à–µ–Ω–∏—è</h2>

<div class="grid">
<div>
<h3>üëÜ –ö–ª–∏–∫</h3>
<div id="clickUpgrades"></div>
</div>

<div>
<h3>‚öôÔ∏è –ü–∞—Å—Å–∏–≤</h3>
<div id="autoUpgrades"></div>
</div>
</div>

<br>
<button onclick="openCity()">üèô –ì–æ—Ä–æ–¥</button>

</div>
</div>

<!-- –ì–û–†–û–î -->
<div id="city" class="screen">
<div class="container">

<h1>üèô –ì–æ—Ä–æ–¥</h1>
<div class="stat">üí∞ –ú–æ–Ω–µ—Ç—ã: <span id="coinsCity">0</span></div>

<div id="map"></div>

<button onclick="select('house')">üè† –î–æ–º (200)</button>
<button onclick="select('shop')">üè™ –ú–∞–≥–∞–∑–∏–Ω (500)</button>
<button onclick="select('factory')">üè≠ –§–∞–±—Ä–∏–∫–∞ (1500)</button>

<br>
<button onclick="openClicker()">‚¨Ö –ù–∞–∑–∞–¥</button>

</div>
</div>

<script>
window.onload = function(){

/* ===== –î–ê–ù–ù–´–ï ===== */
let data = JSON.parse(localStorage.getItem("save")) || {
  coins:0,
  cpc:1,
  auto:0,
  city:{},
  clickCosts:[10,50,150,400,1000],
  autoCosts:[25,100,300,800,2000]
};

function save(){ localStorage.setItem("save", JSON.stringify(data)); }

/* ===== –≠–õ–ï–ú–ï–ù–¢–´ ===== */
const coins = document.getElementById("coins");
const coinsCity = document.getElementById("coinsCity");
const cpc = document.getElementById("cpc");
const auto = document.getElementById("auto");
const cityInc = document.getElementById("cityInc");

const clickBtn = document.getElementById("clickBtn");
const clickDiv = document.getElementById("clickUpgrades");
const autoDiv = document.getElementById("autoUpgrades");

/* ===== –ö–õ–ò–ö ===== */
clickBtn.onclick = ()=>{ data.coins += data.cpc; update(); };

/* ===== –ê–ü–ì–†–ï–ô–î–´ ===== */
const clickPower=[1,5,10,25,50];
const autoPower=[1,5,10,25,50];

function drawUpgrades(){
  clickDiv.innerHTML="";
  autoDiv.innerHTML="";
  for(let i=0;i<5;i++){
    let b=document.createElement("button");
    b.textContent=`+${clickPower[i]} (${data.clickCosts[i]})`;
    b.disabled = data.coins < data.clickCosts[i];
    b.onclick=()=>{
      if(data.coins>=data.clickCosts[i]){
        data.coins-=data.clickCosts[i];
        data.cpc+=clickPower[i];
        data.clickCosts[i]=Math.floor(data.clickCosts[i]*1.6);
        update();
      }
    };
    clickDiv.appendChild(b);

    let a=document.createElement("button");
    a.textContent=`+${autoPower[i]}/—Å–µ–∫ (${data.autoCosts[i]})`;
    a.disabled = data.coins < data.autoCosts[i];
    a.onclick=()=>{
      if(data.coins>=data.autoCosts[i]){
        data.coins-=data.autoCosts[i];
        data.auto+=autoPower[i];
        data.autoCosts[i]=Math.floor(data.autoCosts[i]*1.6);
        update();
      }
    };
    autoDiv.appendChild(a);
  }
}

/* ===== –ì–û–†–û–î ===== */
let selected=null;
window.select=(t)=>{
  selected = t;
  document.querySelectorAll('#city button').forEach(b=>{
    b.style.border='';
  });
  event.target.style.border='2px solid #f97316';
};

const prices={house:200,shop:500,factory:1500};
const icons={house:"üè†",shop:"üè™",factory:"üè≠"};

function cityIncomeCalc(){
  let i=0;
  for(let k in data.city){
    let t=data.city[k];
    if(t=="house") i+=1;
    if(t=="shop") i+=5;
    if(t=="factory") i+=12;
  }
  return i;
}

const map=document.getElementById("map");
for(let i=0;i<25;i++){
  let c=document.createElement("div");
  c.className="cell";
  if(data.city[i]) c.textContent=icons[data.city[i]];

  c.onclick=()=>{
    if(!selected) return;
    if(data.city[i]){
      alert("–≠—Ç–∞ –∫–ª–µ—Ç–∫–∞ –∑–∞–Ω—è—Ç–∞!");
      return;
    }
    if(data.coins>=prices[selected]){
      data.coins -= prices[selected];
      data.city[i] = selected;
      c.textContent = icons[selected];
      selected=null;
      document.querySelectorAll('#city button').forEach(b=>b.style.border='');
      update();
    } else { alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!"); }
  };
  map.appendChild(c);
}

/* ===== –≠–ö–†–ê–ù–´ ===== */
window.openCity=()=>{
  clicker.classList.remove("active");
  city.classList.add("active");
};
window.openClicker=()=>{
  city.classList.remove("active");
  clicker.classList.add("active");
};

/* ===== –ü–ê–°–°–ò–í ===== */
setInterval(()=>{
  let income = data.auto + cityIncomeCalc();
  data.coins += income/10; // –ø–ª–∞–≤–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
  update();
},100);

/* ===== UI ===== */
function update(){
  coins.textContent = Math.floor(data.coins);
  coinsCity.textContent = Math.floor(data.coins);
  cpc.textContent = data.cpc;
  auto.textContent = data.auto;
  cityInc.textContent = cityIncomeCalc();
  drawUpgrades();
  save();
}

update();
};
</script>

</body>
</html>



































































































































