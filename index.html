<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ë–æ–º–∂–∞—Ä–∞ ‚Äî –ò—Å—Ç–æ—Ä–∏—è —É—Å–ø–µ—Ö–∞!</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {margin:0;font-family:Arial,sans-serif;background:linear-gradient(135deg,#0f172a,#020617);color:#e5e7eb;display:flex;justify-content:center;padding:10px;}
.container {width:100%;max-width:800px;background:#111827;padding:15px;border-radius:16px;box-shadow:0 15px 40px rgba(0,0,0,0.6);}
h1,h3,h4{margin:5px 0;}
.stats div,#inventory div,#achievements div{background:#1f2937;padding:8px;border-radius:10px;margin:4px 0;display:flex;align-items:center;justify-content:space-between;}
.stats span.progress{display:inline-block;height:8px;border-radius:4px;background:#16a34a;margin-left:6px;flex-grow:1;transition: width 0.3s ease;}
button{padding:10px;margin:4px;border:none;border-radius:8px;background:#22c55e;color:#052e16;cursor:pointer;display:flex;align-items:center;width:100%;justify-content:center;transition:0.2s;}
button:hover{background:#16a34a;}
button img{width:24px;height:24px;margin-right:6px;}
.map {display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:6px;margin-bottom:10px;}
#story{min-height:80px;margin-bottom:10px;background:#1f2937;padding:10px;border-radius:12px;font-size:16px;line-height:1.4;position:relative;}
.story-notify{position:absolute;top:-25px;left:0;width:100%;text-align:center;color:#facc15;font-weight:bold;animation:flashText 1s;}
@keyframes flashText{0%,100%{opacity:0;}50%{opacity:1;}}
.animated{animation:flash 0.4s ease;}
@keyframes flash{0%{background-color:#facc15;}50%{background-color:#1f2937;}100%{background-color:#facc15;}}
.inventory img{width:24px;height:24px;margin-right:6px;}
.actions,#shopItems{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:6px;max-height:250px;overflow-y:auto;margin-bottom:10px;}
</style>
</head>
<body>
<div class="container">
<h1>üßπ –ë–æ–º–∂–∞—Ä–∞ ‚Äî –ò—Å—Ç–æ—Ä–∏—è —É—Å–ø–µ—Ö–∞!</h1>

<div class="stats">
<h3>–ü–µ—Ä—Å–æ–Ω–∞–∂</h3>
<div>üí∞ <span>–î–µ–Ω—å–≥–∏:</span> <span id="money">0</span> –≥—Ä–Ω | $: <span id="usd">0</span> | –ö—É—Ä—Å: <span id="rate">42.50</span> –≥—Ä–Ω/$</div>
<div>‚ù§Ô∏è <span>–ó–¥–æ—Ä–æ–≤—å–µ:</span> <span id="health">100</span> <span class="progress" id="healthBar"></span></div>
<div>üçó <span>–°—ã—Ç–æ—Å—Ç—å:</span> <span id="satiety">100</span> <span class="progress" id="satietyBar"></span></div>
<div>üòä <span>–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ:</span> <span id="mood">100</span> <span class="progress" id="moodBar"></span></div>
<div>‚≠ê <span>–†–µ–ø—É—Ç–∞—Ü–∏—è:</span> <span id="rep">0</span></div>
<div>‚ö° <span>–û–ø—ã—Ç:</span> <span id="xp">0</span> | –£—Ä–æ–≤–µ–Ω—å: <span id="level">1</span> <span class="progress" id="xpBar"></span></div>
<div>üí™ <span>–°–∏–ª–∞:</span> <span id="str">5</span> | üß† <span>–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç:</span> <span id="int">5</span> | ü§ù <span>–•–∞—Ä–∏–∑–º–∞:</span> <span id="cha">5</span></div>
<div>üïí <span>–î–µ–Ω—å:</span> <span id="day">1</span> | <span>–ú–µ—Å—è—Ü:</span> <span id="month">1</span></div>
</div>

<div id="story"></div>

<div class="map">
<button onclick="goTo('home')">üè† –î–æ–º</button>
<button onclick="goTo('work')">üíº –†–∞–±–æ—Ç–∞</button>
<button onclick="goTo('shop')">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
<button onclick="goTo('school')">üè´ –®–∫–æ–ª–∞</button>
<button onclick="goTo('park')">üå≥ –ü–∞—Ä–∫</button>
<button onclick="goTo('crime')">üïµÔ∏è –ö—Ä–∏–º–∏–Ω–∞–ª</button>
<button onclick="goTo('hospital')">üè• –ë–æ–ª—å–Ω–∏—Ü–∞</button>
<button onclick="exchangeCurrencyUI()">üí± –û–±–º–µ–Ω–Ω–∏–∫</button>
<button onclick="recycle()">‚ôªÔ∏è –°–¥–∞—Ç—å –±—É—Ç—ã–ª–∫–∏</button>
</div>

<div class="actions" id="actions"></div>
<div class="actions" id="shopItems"></div>
<div class="inventory" id="inventory"><h3>üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3></div>
<div id="achievements"><h3>üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3></div>
<button id="restart" onclick="startGame()" style="display:none;">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>

<script>
// ---------- STATE ----------
let state;
const achievements = new Set();
let rate = 42.5;

const properties = { "–ü–∞–ª–∞—Ç–∫–∞":500, "–ß–µ—Ä–¥–∞–∫":200, "–ö–≤–∞—Ä—Ç–∏—Ä–∞":1000, "–î–æ–º":40000, "–ü–µ–Ω—Ç—Ö–∞—É—Å":200000 };
const transport = { "–ö—Ä–æ—Å—Å–æ–≤–∫–∏":0, "–í–µ–ª–æ—Å–∏–ø–µ–¥":500, "–°–∫—É—Ç–µ—Ä":2000, "–ú–∞—à–∏–Ω–∞":10000, "–°–ø–æ—Ä—Ç–∫–∞—Ä":50000, "–í–µ—Ä—Ç–æ–ª–µ—Ç":200000 };
const education = { "–ê–∑–±—É–∫–∞":1000, "–ë—É–∫–≤–∞—Ä–∏–∫":5000, "–®–∫–æ–ª–∞":10000, "–ö–æ–ª–ª–µ–¥–∂":15000, "–£–Ω–∏–≤–µ—Ä":20000, "–ú–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞":30000, "–î–æ–∫—Ç–æ—Ä–∞–Ω—Ç—É—Ä–∞":50000 };

const jobs = [
{name:"–î–≤–æ—Ä–Ω–∏–∫", salary:50, level:1, property:null, transport:null, education:"–ê–∑–±—É–∫–∞"},
{name:"–ü–æ—á—Ç–∞–ª—å–æ–Ω", salary:100, level:1, property:null, transport:null, education:"–ë—É–∫–≤–∞—Ä–∏–∫"},
{name:"–¢–∞–∫—Å–∏—Å—Ç", salary:200, level:2, property:null, transport:"–ú–∞—à–∏–Ω–∞", education:"–®–∫–æ–ª–∞"},
{name:"–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç", salary:1000, level:5, property:null, transport:"–ú–∞—à–∏–Ω–∞", education:"–£–Ω–∏–≤–µ—Ä"},
{name:"–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç", salary:10000, level:10, property:"–ü–µ–Ω—Ç—Ö–∞—É—Å", transport:"–í–µ—Ä—Ç–æ–ª–µ—Ç", education:"–î–æ–∫—Ç–æ—Ä–∞–Ω—Ç—É—Ä–∞"}
];

// ---------- START ----------
function startGame(){
  state={money:50,usd:0,health:100,satiety:100,mood:100,rep:0,xp:0,level:1,str:5,int:5,cha:5,day:1,month:1,inventory:[]};
  achievements.clear(); renderAchievements(); updateUI();
  showStory("–ù–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—É—é –∂–∏–∑–Ω—å! –í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–∫–∞—Ü–∏—é.");
  document.getElementById("restart").style.display="none";
  randomRate();
}

// ---------- UI ----------
function updateUI(){
  document.getElementById("money").textContent=state.money;
  document.getElementById("usd").textContent=state.usd.toFixed(2);
  document.getElementById("rate").textContent=rate.toFixed(2);
  document.getElementById("health").textContent=state.health;
  document.getElementById("satiety").textContent=state.satiety;
  document.getElementById("mood").textContent=state.mood;
  document.getElementById("rep").textContent=state.rep;
  document.getElementById("xp").textContent=state.xp;
  document.getElementById("level").textContent=state.level;
  document.getElementById("str").textContent=state.str;
  document.getElementById("int").textContent=state.int;
  document.getElementById("cha").textContent=state.cha;
  document.getElementById("day").textContent=state.day;
  document.getElementById("month").textContent=state.month;
  document.getElementById("healthBar").style.width=state.health+"%";
  document.getElementById("satietyBar").style.width=state.satiety+"%";
  document.getElementById("moodBar").style.width=state.mood+"%";
  document.getElementById("xpBar").style.width=Math.min(100,(state.xp/(state.level*50))*100)+"%";

  const invDiv=document.getElementById("inventory"); invDiv.innerHTML="<h3>üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>";
  state.inventory.forEach(item=>{ const d=document.createElement("div"); d.innerHTML=`<img src='https://img.icons8.com/ios-filled/24/ffffff/box.png'/>${item}`; invDiv.appendChild(d); });

  if(state.health<=0||state.satiety<=0||state.mood<=0){
    showStory("–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏! –í–∞—à–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ.");
    document.getElementById("restart").style.display="block";
    document.getElementById("actions").innerHTML="";
    document.getElementById("shopItems").innerHTML="";
  }
}

// ---------- STORY ----------
function showStory(text,notify=""){ 
  const story=document.getElementById("story"); 
  story.textContent=text;
  story.classList.add("animated"); 
  setTimeout(()=>story.classList.remove("animated"),400);
  if(notify){ const n=document.createElement("div"); n.className="story-notify"; n.textContent=notify; story.appendChild(n); setTimeout(()=>n.remove(),1500); }
}

// ---------- ACHIEVEMENTS ----------
function addAchievement(name){ if(achievements.has(name)) return; achievements.add(name); renderAchievements(); }
function renderAchievements(){ const div=document.getElementById("achievements"); div.innerHTML="<h3>üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>"; achievements.forEach(a=>{ const d=document.createElement("div"); d.textContent=a; div.appendChild(d); }); }

// ---------- ACTIONS ----------
function addAction(text, fn){ const btn=document.createElement("button"); btn.innerHTML=text; btn.onclick=()=>{ fn(); updateUI(); }; document.getElementById("actions").appendChild(btn); }

// ---------- MONEY & XP ----------
function gainMoney(amount){ state.money+=amount; showStory(`–í—ã –ø–æ–ª—É—á–∏–ª–∏ ${amount} –≥—Ä–Ω`,"üí∞"); updateUI(); }
function gainXP(amount){ state.xp+=amount; showStory(`+${amount} –æ–ø—ã—Ç–∞`,"‚ö°"); while(state.xp>=state.level*50){ state.xp-=state.level*50; state.level++; addAchievement("–ù–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å"); state.rep+=5; } updateUI(); }
function buyItem(name,cost,heal="",skill=""){ if(state.money<cost){ showStory("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥"); return; } state.money-=cost; if(!state.inventory.includes(name)) state.inventory.push(name); if(heal) state[skill]=Math.min(100,state[skill]+heal); if(skill&&!heal) state[skill]+=1; updateUI(); showStory(`–í—ã –∫—É–ø–∏–ª–∏ ${name}`,"üõí"); }
function rest(){ state.health=Math.min(100,state.health+20); state.satiety=Math.min(100,state.satiety+10); state.mood=Math.min(100,state.mood+15); showStory("–í—ã –æ—Ç–¥–æ—Ö–Ω—É–ª–∏","üõå"); updateUI(); }
function train(skill){ state[skill]+=1; gainXP(5); showStory(`+1 ${skill}`,"üèãÔ∏è"); updateUI(); }

// ---------- CURRENCY ----------
function exchangeCurrencyUI(){ let val=prompt(`–°–∫–æ–ª—å–∫–æ $ –∫—É–ø–∏—Ç—å/–ø—Ä–æ–¥–∞—Ç—å? (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ ‚Äî –∫—É–ø–∏—Ç—å, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ ‚Äî –ø—Ä–æ–¥–∞—Ç—å)\n–ö—É—Ä—Å: ${rate.toFixed(2)}`); val=parseFloat(val); if(isNaN(val)) return;
  if(val>0){ if(state.money<val*rate){ showStory("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥—Ä–Ω"); return; } state.money-=val*rate; state.usd+=val; showStory(`–ö—É–ø–ª–µ–Ω–æ ${val.toFixed(2)}$`,"üí±"); }
  else{ let sell=-val; if(state.usd<sell){ showStory("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ $"); return; } state.usd-=sell; state.money+=sell*rate; showStory(`–ü—Ä–æ–¥–∞–Ω–æ ${sell.toFixed(2)}$`,"üí±"); } updateUI(); }

// ---------- RANDOM RATE ----------
function randomRate(){ setInterval(()=>{ rate+=Math.random()-0.5;if(rate<30)rate=30;if(rate>70)rate=70;updateUI(); },5000); }

// ---------- FIND BOTTLES ----------
function findBottles(){ const num=Math.floor(Math.random()*3); for(let i=0;i<num;i++) state.inventory.push("–ë—É—Ç—ã–ª–∫–∞"); showStory(`–ù–∞–π–¥–µ–Ω–æ ${num} –±—É—Ç—ã–ª–æ–∫`,"‚ôªÔ∏è"); }

// ---------- RECYCLE ----------
function recycle(){ const bottles=state.inventory.filter(i=>"–ë—É—Ç—ã–ª–∫–∞"===i).length; if(!bottles){ showStory("–ë—É—Ç—ã–ª–æ–∫ –Ω–µ—Ç"); return; } state.money+=bottles*5; state.inventory=state.inventory.filter(i=>i!=="–ë—É—Ç—ã–ª–∫–∞"); showStory(`–°–¥–∞–ª–∏ ${bottles} –±—É—Ç—ã–ª–æ–∫`,"‚ôªÔ∏è"); updateUI(); }

// ---------- GO TO ----------
function goTo(loc){ state.day++; if(state.day>30){ state.day=1; state.month++; } document.getElementById("actions").innerHTML=""; document.getElementById("shopItems").innerHTML="";
switch(loc){
  case "home": showStory("–í—ã –¥–æ–º–∞"); addAction("üõå –û—Ç–¥–æ—Ö–Ω—É—Ç—å",()=>rest()); addAction("üèãÔ∏è –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ (+—Å–∏–ª–∞)",()=>train("str")); addAction("üìö –£—á—ë–±–∞ (+–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç)",()=>train("int")); addAction("üí¨ –û–±—â–µ–Ω–∏–µ (+—Ö–∞—Ä–∏–∑–º–∞)",()=>train("cha")); break;
  case "work": showStory("–í—ã –Ω–∞ —Ä–∞–±–æ—Ç–µ"); jobs.forEach(job=>{ addAction(job.name+` (+${job.salary} –≥—Ä–Ω)`,()=>{ if(state.level<job.level){ showStory("–£—Ä–æ–≤–µ–Ω—å —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–π"); return; } if(job.property && !state.inventory.includes(job.property)){ showStory(`–ù—É–∂–µ–Ω ${job.property}`); return; } if(job.transport && !state.inventory.includes(job.transport)){ showStory(`–ù—É–∂–µ–Ω ${job.transport}`); return; } if(job.education && !state.inventory.includes(job.education)){ showStory(`–ù—É–∂–Ω–∞ ${job.education}`); return; } gainMoney(job.salary); gainXP(Math.floor(job.salary/10)); addAchievement(`–†–∞–±–æ—Ç–∞: ${job.name}`); }); }); break;
  case "shop": showStory("–í—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ"); addAction("üçé –ï–¥–∞ (+—Å—ã—Ç–æ—Å—Ç—å)",()=>buyItem("–ï–¥–∞",20,10,"satiety")); addAction("üíä –õ–µ–∫–∞—Ä—Å—Ç–≤–æ (+–∑–¥–æ—Ä–æ–≤—å–µ)",()=>buyItem("–õ–µ–∫–∞—Ä—Å—Ç–≤–æ",50,20,"health")); const shopDiv=document.getElementById("shopItems"); shopDiv.innerHTML="<h3>üõí –ú–∞–≥–∞–∑–∏–Ω –∏–º—É—â–µ—Å—Ç–≤–∞</h3>"; Object.keys(properties).forEach(p=>{ const btn=document.createElement("button"); btn.innerHTML=`üè† ${p} (${properties[p]} –≥—Ä–Ω)`; btn.onclick=()=>buyItem(p,properties[p]); shopDiv.appendChild(btn); }); break;
  case "school": showStory("–í—ã —É—á–∏—Ç–µ—Å—å"); Object.keys(education).forEach(edu=>{ addAction(`üìñ ${edu} (${education[edu]} –≥—Ä–Ω)`,()=>buyItem(edu,education[edu])); }); break;
  case "park": showStory("–í—ã –≤ –ø–∞—Ä–∫–µ"); addAction("üçø –ö–∏–Ω–æ (+–Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ)",()=>{ state.mood=Math.min(100,state.mood+15); showStory("+15 –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ","üé¨"); updateUI(); }); addAction("ü•§ –ê–ª–∫–æ–≥–æ–ª—å (+–Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, -–∑–¥–æ—Ä–æ–≤—å–µ)",()=>{ state.mood=Math.min(100,state.mood+10); state.health=Math.max(0,state.health-5); showStory("+10 –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, -5 –∑–¥–æ—Ä–æ–≤—å–µ","üç∫"); updateUI(); }); break;
  case "crime": showStory("–í—ã –≤ –∫—Ä–∏–º–∏–Ω–∞–ª–µ"); addAction("üí∞ –û–≥—Ä–∞–±–ª–µ–Ω–∏–µ (+100 –≥—Ä–Ω, -—Ä–µ–ø—É—Ç–∞—Ü–∏—è)",()=>{ gainMoney(100); state.rep=Math.max(0,state.rep-10); gainXP(10); }); break;
  case "hospital": showStory("–í—ã –≤ –±–æ–ª—å–Ω–∏—Ü–µ"); addAction("üíä –õ–µ—á–µ–Ω–∏–µ (+–∑–¥–æ—Ä–æ–≤—å–µ)",()=>{ state.health=Math.min(100,state.health+20); showStory("+20 –∑–¥–æ—Ä–æ–≤—å–µ","üíä"); updateUI(); }); break;
  default: showStory("–õ–æ–∫–∞—Ü–∏—è –Ω–µ –≥–æ—Ç–æ–≤–∞");
}
findBottles(); updateUI();
}

startGame();
</script>
</div>
</body>
</html>



































































































