<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MAX Ultimate Casino Slot</title>

<style>
body{margin:0;background:#0b0b0b;color:#fff;font-family:Arial;text-align:center}
.container{max-width:420px;margin:auto;padding:10px}
.top{display:flex;justify-content:space-between;font-size:14px}
.slots{display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(3,70px);gap:6px;margin:15px 0}
.slot{background:#1c1c1c;border-radius:14px;font-size:28px;display:flex;align-items:center;justify-content:center;position:relative;transition:.2s}
.slot.win{box-shadow:0 0 15px #00ff6a inset}
.controls{display:flex;gap:6px;margin-bottom:10px}
button,input,select{padding:14px;font-size:16px;border-radius:12px;border:none;width:100%}
button{background:#ff2f2f;color:#fff}
button:disabled{opacity:.5}
.won{color:#00ff6a}
.lost{color:#ff4d4d}
.fs{color:#00eaff}
.jackpot{color:gold}
.vip{color:#ff9f00}
</style>
</head>

<body>
<div class="container">

<h2>ğŸ° MAX Ultimate Slot</h2>

<div class="top">
<div>ğŸ’° <span id="balance"></span></div>
<div>ğŸ <span id="fs"></span></div>
<div class="jackpot">ğŸ’ <span id="jackpot"></span></div>
</div>

<div class="vip">VIP LEVEL: <span id="vip"></span></div>

<div class="slots" id="slots"></div>

<div class="controls">
<input type="number" id="bet" value="20" min="1">
<select id="lines">
<option value="1">1 Ğ»Ğ¸Ğ½Ğ¸Ñ</option>
<option value="3">3 Ğ»Ğ¸Ğ½Ğ¸Ğ¸</option>
<option value="5">5 Ğ»Ğ¸Ğ½Ğ¸Ğ¹</option>
</select>
</div>

<button id="spinBtn">SPIN</button>
<div id="result"></div>

</div>

<script>
/* ====== STATE ====== */
let state = JSON.parse(localStorage.getItem('casino')) || {
balance:15000, fs:0, jackpot:5000, vip:1, spins:0
};

const symbols=['ğŸ’','ğŸ‹','ğŸŠ','ğŸ‰','7ï¸âƒ£'];
const WILD='â­';

const paylines=[
[[1,0],[1,1],[1,2],[1,3],[1,4]],
[[0,0],[0,1],[0,2],[0,3],[0,4]],
[[2,0],[2,1],[2,2],[2,3],[2,4]],
[[0,0],[1,1],[2,2],[1,3],[0,4]],
[[2,0],[1,1],[0,2],[1,3],[2,4]]
];

const slotsEl=document.getElementById('slots');
const spinBtn=document.getElementById('spinBtn');
const betInput=document.getElementById('bet');
const linesInput=document.getElementById('lines');
const resultEl=document.getElementById('result');

let grid=[],matrix=[],spinning=false;

/* ====== UI INIT ====== */
for(let r=0;r<3;r++){
grid[r]=[];
for(let c=0;c<5;c++){
let d=document.createElement('div');
d.className='slot';
slotsEl.appendChild(d);
grid[r][c]=d;
}
}

function updateUI(){
balance.textContent=state.balance;
fs.textContent=state.fs;
jackpot.textContent=state.jackpot;
vip.textContent=state.vip;
localStorage.setItem('casino',JSON.stringify(state));
}
updateUI();

/* ====== AUDIO ====== */
const ctx=new AudioContext();
function beep(freq,d=0.08){
let o=ctx.createOscillator(),g=ctx.createGain();
o.connect(g);g.connect(ctx.destination);
o.frequency.value=freq;
o.start();g.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+d);
}

/* ====== LOGIC ====== */
function randSymbol(){
return Math.random()<0.12+state.vip*0.002 ? WILD : symbols[Math.random()*symbols.length|0];
}

function animateSpin(done){
let t=10;
let i=setInterval(()=>{
for(let r=0;r<3;r++)for(let c=0;c<5;c++)
grid[r][c].textContent=randSymbol();
beep(300+t*20,0.03);
if(--t<=0){clearInterval(i);done();}
},70);
}

function genMatrix(){
matrix=[[],[],[]];
for(let r=0;r<3;r++)for(let c=0;c<5;c++)matrix[r][c]=randSymbol();
}

function render(){
for(let r=0;r<3;r++)for(let c=0;c<5;c++)
grid[r][c].textContent=matrix[r][c];
}

function calcWin(bet,lines){
let win=0;
for(let i=0;i<lines;i++){
let base=null,count=0,cells=[];
for(let p of paylines[i]){
let s=matrix[p[0]][p[1]];
cells.push(p);
if(s===WILD){count++;continue;}
if(!base){base=s;count++}
else if(s===base)count++;
}
if(count>=3){
win+=bet*count*2;
cells.forEach(p=>grid[p[0]][p[1]].classList.add('win'));
}
}
return win;
}

spinBtn.onclick=()=>{
if(spinning)return;
let bet=+betInput.value,lines=+linesInput.value;
let cost=bet*lines;

if(state.fs===0){
if(cost>state.balance)return;
state.balance-=cost;
state.jackpot+=Math.floor(cost*0.05);
}else state.fs--;

state.spins++;
if(state.spins%30===0) state.vip++;

updateUI();
resultEl.innerHTML='';
spinning=true;spinBtn.disabled=true;

animateSpin(()=>{
genMatrix();render();

let scat=matrix.flat().filter(x=>x===WILD).length;
if(scat>=3){state.fs+=10;resultEl.innerHTML+=`ğŸ <span class="fs">+10 FS</span><br>`;}

let win=calcWin(bet,lines);
if(state.fs>0) win*=2;

if(Math.random()<0.002+state.vip*0.0003){
win+=state.jackpot;
state.jackpot=5000;
beep(1200,0.4);
resultEl.innerHTML+=`ğŸ’ JACKPOT!<br>`;
}

if(win>0){
state.balance+=win;
beep(800,0.2);
resultEl.innerHTML+=`<span class="won">ğŸ‰ +${win}</span>`;
}else{
resultEl.innerHTML+=`<span class="lost">ğŸ˜ ĞŸÑƒÑÑ‚Ğ¾</span>`;
}

updateUI();
setTimeout(()=>document.querySelectorAll('.win').forEach(x=>x.classList.remove('win')),600);
spinning=false;spinBtn.disabled=false;
});
};
</script>
</body>
</html>















































































