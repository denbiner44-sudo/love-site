<!DOCTYPE html>

<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–°—É–ø–µ—Ä –°–∏–º—É–ª—è—Ç–æ—Ä –ñ–∏–∑–Ω–∏</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
margin:0;
font-family:Arial;
background:linear-gradient(135deg,#020617,#0f172a);
color:#e5e7eb;
display:flex;
justify-content:center;
padding:10px;
}

.container{
width:100%;
max-width:900px;
background:#111827;
padding:15px;
border-radius:16px;
box-shadow:0 20px 50px rgba(0,0,0,0.7);
}

h1{margin:0 0 10px 0;text-align:center;}

.stats div{
background:#1f2937;
padding:8px;
margin:4px 0;
border-radius:10px;
}

.progress{
height:8px;
background:#22c55e;
border-radius:4px;
transition:width .5s;
}

.map, .actions{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
gap:6px;
margin-bottom:10px;
}

button{
padding:10px;
border:none;
border-radius:8px;
cursor:pointer;
background:#22c55e;
transition:.2s;
font-weight:bold;
}

button:hover{transform:scale(1.05);}

#story{
min-height:80px;
background:#1f2937;
padding:10px;
border-radius:12px;
margin-bottom:10px;
animation:fade .5s;
}

@keyframes fade{
from{opacity:0;transform:translateY(10px);}
to{opacity:1;}
}

.flash{
animation:flash .6s;
}

@keyframes flash{
0%{background:#facc15;}
100%{background:#1f2937;}
}

.saveMenu{
display:grid;
grid-template-columns:repeat(3,1fr);
gap:5px;
margin-bottom:10px;
}
</style>

</head>

<body>
<div class="container">

<h1>üî• –°—É–ø–µ—Ä –°–∏–º—É–ª—è—Ç–æ—Ä –ñ–∏–∑–Ω–∏</h1>

<div class="saveMenu">
<button onclick="loadSlot(1)">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–ª–æ—Ç 1</button>
<button onclick="loadSlot(2)">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–ª–æ—Ç 2</button>
<button onclick="loadSlot(3)">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–ª–æ—Ç 3</button>
<button onclick="saveSlot(1)">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ª–æ—Ç 1</button>
<button onclick="saveSlot(2)">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ª–æ—Ç 2</button>
<button onclick="saveSlot(3)">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ª–æ—Ç 3</button>
</div>

<div class="stats">
<div>üí∞ –î–µ–Ω—å–≥–∏: <span id="money"></span></div>
<div>‚ù§Ô∏è –ó–¥–æ—Ä–æ–≤—å–µ<div class="progress" id="healthBar"></div></div>
<div>üòä –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ<div class="progress" id="moodBar"></div></div>
<div>‚≠ê –†–µ–ø—É—Ç–∞—Ü–∏—è: <span id="rep"></span></div>
<div>üè¢ –ë–∏–∑–Ω–µ—Å: <span id="business"></span></div>
<div>üïí –î–µ–Ω—å: <span id="day"></span></div>
</div>

<div id="story"></div>

<div class="map">
<button onclick="goWork()">–†–∞–±–æ—Ç–∞</button>
<button onclick="goCrime()">–ö—Ä–∏–º–∏–Ω–∞–ª</button>
<button onclick="goBusiness()">–ë–∏–∑–Ω–µ—Å</button>
<button onclick="rest()">–û—Ç–¥—ã—Ö</button>
</div>

<div class="actions" id="actions"></div>

<script>

let state;

function newGame(){
state={
money:100,
health:100,
mood:100,
rep:0,
day:1,
business:0,
businessLevel:0,
prison:0
};
}

function saveSlot(n){
localStorage.setItem("save"+n,JSON.stringify(state));
story("üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ —Å–ª–æ—Ç "+n);
}

function loadSlot(n){
let s=localStorage.getItem("save"+n);
if(s){state=JSON.parse(s);story("–ó–∞–≥—Ä—É–∂–µ–Ω —Å–ª–æ—Ç "+n);}
else{newGame();story("–ù–æ–≤–∞—è –∏–≥—Ä–∞");}
updateUI();
}

function story(text){
let el=document.getElementById("story");
el.textContent=text;
el.classList.remove("flash");
void el.offsetWidth;
el.classList.add("flash");
}

function updateUI(){
money.textContent=state.money;
rep.textContent=state.rep;
business.textContent=state.businessLevel>0?
"–£—Ä–æ–≤–µ–Ω—å "+state.businessLevel:"–ù–µ—Ç";
day.textContent=state.day;
healthBar.style.width=state.health+"%";
moodBar.style.width=state.mood+"%";
autoDay();
}

function autoDay(){

if(state.prison>0){
state.prison--;
story("‚õì –í—ã –≤ —Ç—é—Ä—å–º–µ. –û—Å—Ç–∞–ª–æ—Å—å –¥–Ω–µ–π: "+state.prison);
}

if(state.businessLevel>0){
let income=state.businessLevel*50;
state.money+=income;
story("üíº –ë–∏–∑–Ω–µ—Å –ø—Ä–∏–Ω–µ—Å "+income);
}

state.money-=10;
state.health-=1;
state.mood-=1;

randomEvent();

state.day++;
autoSave();
}

function autoSave(){
localStorage.setItem("autosave",JSON.stringify(state));
}

function goWork(){
let earn=50+state.rep*5;
state.money+=earn;
state.mood-=5;
story("–í—ã –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ "+earn);
updateUI();
}

function goCrime(){

if(Math.random()<0.3){
state.prison=3+Math.floor(Math.random()*3);
story("üöî –í–∞—Å –ø–æ—Å–∞–¥–∏–ª–∏!");
}else{
let earn=200;
state.money+=earn;
state.rep+=1;
story("–£—Å–ø–µ—à–Ω–æ–µ –¥–µ–ª–æ +"+earn);
}

updateUI();
}

function goBusiness(){

document.getElementById("actions").innerHTML="";

addAction("–ö—É–ø–∏—Ç—å –±–∏–∑–Ω–µ—Å (500)",()=>{
if(state.money>=500){
state.money-=500;
state.businessLevel=1;
story("–í—ã –∫—É–ø–∏–ª–∏ –±–∏–∑–Ω–µ—Å!");
updateUI();
}
});

addAction("–£–ª—É—á—à–∏—Ç—å –±–∏–∑–Ω–µ—Å (300)",()=>{
if(state.money>=300 && state.businessLevel>0){
state.money-=300;
state.businessLevel++;
story("–ë–∏–∑–Ω–µ—Å —É–ª—É—á—à–µ–Ω!");
updateUI();
}
});
}

function rest(){
state.mood+=10;
state.health+=5;
story("–í—ã –æ—Ç–¥–æ—Ö–Ω—É–ª–∏");
updateUI();
}

function randomEvent(){

let r=Math.random();

if(r<0.2){
let loss=50;
state.money=Math.max(0,state.money-loss);
story("üí∏ –ù–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã -"+loss);
}

else if(r<0.4){
let gain=100;
state.money+=gain;
story("üéÅ –í–∞–º –ø–æ–≤–µ–∑–ª–æ! +"+gain);
}

}

function addAction(name,fn){
let b=document.createElement("button");
b.textContent=name;
b.onclick=fn;
actions.appendChild(b);
}

newGame();
updateUI();

</script>

</div>
</body>
</html>
















































































































