<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LIFE EMPIRE MEGA</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:linear-gradient(135deg,#0f172a,#1e293b);
    color:white;
}
header{
    background:#111827;
    padding:10px;
    display:flex;
    flex-wrap:wrap;
    justify-content:space-around;
    font-size:14px;
}
section{
    padding:15px;
}
h2{
    margin-top:30px;
    text-align:center;
}
button{
    width:95%;
    max-width:500px;
    padding:10px;
    margin:5px;
    border:none;
    border-radius:12px;
    background:linear-gradient(90deg,#06b6d4,#22c55e);
    color:white;
    cursor:pointer;
    font-size:14px;
}
button:hover{
    transform:scale(1.03);
}
.panel{
    display:flex;
    flex-direction:column;
    align-items:center;
}
.gameover{
    position:fixed;
    inset:0;
    background:black;
    display:none;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    font-size:30px;
}
.small{
    font-size:12px;
    opacity:0.8;
}
</style>
</head>
<body>

<header>
<div>üí∞ –î–µ–Ω—å–≥–∏: <span id="money"></span></div>
<div>üìà –î–æ—Ö–æ–¥/—Å–µ–∫: <span id="income"></span></div>
<div>üè¶ –î–æ–ª–≥: <span id="debt"></span></div>
<div>‚≠ê –†–µ–π—Ç–∏–Ω–≥: <span id="rating"></span></div>
<div>üéì –£—Ä–æ–≤–µ–Ω—å: <span id="level"></span></div>
<div>‚ù§Ô∏è <span id="health"></span></div>
<div>üçî <span id="food"></span></div>
<div>üòä <span id="mood"></span></div>
</header>

<section class="panel" id="mainPanel">

<h2>üè¶ –ö—Ä–µ–¥–∏—Ç—ã</h2>
<button onclick="takeLoan(10000)">–í–∑—è—Ç—å 10 000</button>
<button onclick="takeLoan(100000)">–í–∑—è—Ç—å 100 000</button>
<button onclick="takeLoan(1000000)">–í–∑—è—Ç—å 1 000 000</button>
<button onclick="payLoan()">–ü–æ–≥–∞—Å–∏—Ç—å –¥–æ–ª–≥</button>

<h2>üéâ –ñ–∏–∑–Ω—å</h2>
<button onclick="eat()">–ü–æ–µ—Å—Ç—å (200)</button>
<button onclick="rest()">–û—Ç–¥—ã—Ö (500)</button>
<button onclick="heal()">–õ–µ—á–µ–Ω–∏–µ (1000)</button>

<div class="small">–î–æ–ª–≥ —Ä–∞—Å—Ç—ë—Ç –Ω–∞ 1% –≤ —Å–µ–∫—É–Ω–¥—É</div>

</section>

<div class="gameover" id="gameover">
<div>üíÄ –ë–ê–ù–ö–†–û–¢–°–¢–í–û</div>
<button onclick="resetGame()">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
</div>

<script>
let game = JSON.parse(localStorage.getItem("lifeEmpireMega")) || {
    money:5000,
    income:0,
    debt:0,
    rating:0,
    level:1,
    xp:0,
    health:80,
    food:70,
    mood:70,
    businesses:[
        {name:"–õ–∞—Ä—ë–∫",baseCost:500,baseIncome:5,level:0},
        {name:"–ö–∞—Ñ–µ",baseCost:5000,baseIncome:50,level:0},
        {name:"–ê–≤—Ç–æ—Å–µ—Ä–≤–∏—Å",baseCost:50000,baseIncome:500,level:0},
        {name:"–ó–∞–≤–æ–¥",baseCost:500000,baseIncome:5000,level:0},
        {name:"–°–µ—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤",baseCost:2000000,baseIncome:20000,level:0},
        {name:"–ù–µ—Ñ—Ç–µ–≤—ã—à–∫–∞",baseCost:10000000,baseIncome:120000,level:0},
        {name:"–ë–∞–Ω–∫",baseCost:50000000,baseIncome:600000,level:0},
        {name:"IT –∫–æ–º–ø–∞–Ω–∏—è",baseCost:100000000,baseIncome:1500000,level:0},
        {name:"–ê–≤–∏–∞–∫–æ–º–ø–∞–Ω–∏—è",baseCost:500000000,baseIncome:8000000,level:0},
        {name:"–ö–æ—Ä–ø–æ—Ä–∞—Ü–∏—è",baseCost:2000000000,baseIncome:30000000,level:0},
        {name:"–ú–µ–¥–∏–∞ –ò–º–ø–µ—Ä–∏—è",baseCost:5000000000,baseIncome:70000000,level:0},
        {name:"–ú–∏—Ä–æ–≤–æ–π –•–æ–ª–¥–∏–Ω–≥",baseCost:20000000000,baseIncome:200000000,level:0}
    ]
};

function save(){
    localStorage.setItem("lifeEmpireMega",JSON.stringify(game));
}

function format(n){
    if(n>=1e12) return (n/1e12).toFixed(1)+"T";
    if(n>=1e9) return (n/1e9).toFixed(1)+"B";
    if(n>=1e6) return (n/1e6).toFixed(1)+"M";
    if(n>=1e3) return (n/1e3).toFixed(1)+"K";
    return Math.floor(n);
}

function update(){
    document.getElementById("money").innerText=format(game.money);
    document.getElementById("income").innerText=format(game.income);
    document.getElementById("debt").innerText=format(game.debt);
    document.getElementById("rating").innerText=game.rating;
    document.getElementById("level").innerText=game.level;
    document.getElementById("health").innerText=game.health;
    document.getElementById("food").innerText=game.food;
    document.getElementById("mood").innerText=game.mood;

    renderBusinesses();

    if(game.money < -1000000 || game.health<=0){
        document.getElementById("gameover").style.display="flex";
    }
    save();
}

function addXP(amount){
    game.xp+=amount;
    if(game.xp>=100){
        game.xp=0;
        game.level++;
        game.income*=1.1;
    }
}

function renderBusinesses(){
    let old = document.getElementById("bizContainer");
    if(old) old.remove();

    let div = document.createElement("div");
    div.id="bizContainer";
    div.innerHTML="<h2>üíº –ë–∏–∑–Ω–µ—Å –ò–º–ø–µ—Ä–∏—è</h2>";
    div.style.display="flex";
    div.style.flexDirection="column";
    div.style.alignItems="center";

    game.businesses.forEach((b,i)=>{
        let cost = Math.floor(b.baseCost * Math.pow(1.15,b.level));
        let btn = document.createElement("button");
        btn.innerText=`${b.name} | –£—Ä.${b.level} | –¶–µ–Ω–∞: ${format(cost)} | +${format(b.baseIncome)}/—Å–µ–∫`;
        btn.onclick=()=>buyBusiness(i,cost);
        div.appendChild(btn);
    });

    document.getElementById("mainPanel").prepend(div);
}

function buyBusiness(i,cost){
    let b = game.businesses[i];
    if(game.money>=cost){
        game.money-=cost;
        b.level++;
        game.income+=b.baseIncome;
        game.rating+=5;
        addXP(15);
        update();
    }
}

function takeLoan(amount){
    if(game.debt===0){
        game.money+=amount;
        game.debt=amount;
        update();
    }
}

function payLoan(){
    if(game.money>=game.debt){
        game.money-=game.debt;
        game.debt=0;
        update();
    }
}

function eat(){
    if(game.money>=200){
        game.money-=200;
        game.food=Math.min(100,game.food+20);
        update();
    }
}

function rest(){
    if(game.money>=500){
        game.money-=500;
        game.mood=Math.min(100,game.mood+20);
        update();
    }
}

function heal(){
    if(game.money>=1000){
        game.money-=1000;
        game.health=Math.min(100,game.health+30);
        update();
    }
}

setInterval(()=>{
    game.money+=game.income;

    if(game.debt>0){
        game.debt*=1.01;
    }

    game.food-=1;
    game.mood-=1;

    if(game.food<=0){
        game.health-=2;
    }

    update();
},1000);

function resetGame(){
    localStorage.removeItem("lifeEmpireMega");
    location.reload();
}

update();
</script>

</body>
</html>
