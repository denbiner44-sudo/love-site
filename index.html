<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ë–æ–º–∂–∞—Ä–∞ ‚Äî –ò—Å—Ç–æ—Ä–∏—è —É—Å–ø–µ—Ö–∞!</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #0f172a, #020617);
  color: #e5e7eb;
  display: flex;
  justify-content: center;
  padding: 20px;
}
.container {
  width: 100%;
  max-width: 1000px;
  background: #111827;
  padding: 20px;
  border-radius: 16px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.6);
}
.stats, .inventory, .map, .actions, #achievements {
  margin-bottom: 15px;
}
.stats div, .inventory div, #achievements div {
  background: #1f2937;
  padding: 8px;
  border-radius: 10px;
  margin: 4px 0;
  display: flex;
  align-items: center;
}
.stats span.progress {
  display: inline-block;
  height: 8px;
  border-radius: 4px;
  background: #16a34a;
  margin-left: 6px;
  flex-grow: 1;
}
button {
  padding: 10px;
  margin: 4px;
  border: none;
  border-radius: 8px;
  background: #22c55e;
  color: #052e16;
  cursor: pointer;
  display: flex;
  align-items: center;
}
button:hover { background: #16a34a; }
button img { width: 24px; height: 24px; margin-right: 6px; }
.map button { background: #3b82f6; color: white; }
#story {
  min-height: 80px;
  margin-bottom: 10px;
  background: #1f2937;
  padding: 10px;
  border-radius: 12px;
  font-size: 16px;
  line-height: 1.4;
}
.animated { animation: flash 0.4s ease; }
@keyframes flash { 0% { background-color: #facc15; } 50% { background-color: #1f2937; } 100% { background-color: #facc15; } }
.inventory img { width: 24px; height: 24px; margin-right: 6px; }
</style>
</head>
<body>
<div class="container">
<h1>üßπ –ë–æ–º–∂–∞—Ä–∞ ‚Äî –ò—Å—Ç–æ—Ä–∏—è —É—Å–ø–µ—Ö–∞!</h1>

<div class="stats">
  <h3>–ü–µ—Ä—Å–æ–Ω–∞–∂</h3>
  <div>üí∞ –î–µ–Ω—å–≥–∏: <span id="money">0</span></div>
  <div>‚ù§Ô∏è –ó–¥–æ—Ä–æ–≤—å–µ: <span id="health">100</span> <span class="progress" id="healthBar"></span></div>
  <div>‚≠ê –†–µ–ø—É—Ç–∞—Ü–∏—è: <span id="rep">0</span></div>
  <div>‚ö° –û–ø—ã—Ç: <span id="xp">0</span> | –£—Ä–æ–≤–µ–Ω—å: <span id="level">1</span> <span class="progress" id="xpBar"></span></div>
  <div>üí™ –°–∏–ª–∞: <span id="str">5</span> | üß† –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç: <span id="int">5</span> | ü§ù –•–∞—Ä–∏–∑–º–∞: <span id="cha">5</span></div>
  <div>üïí –î–µ–Ω—å: <span id="day">1</span> | –ú–µ—Å—è—Ü: <span id="month">1</span></div>
</div>

<div id="story"></div>

<div class="map">
  <h3>üèòÔ∏è –ö–∞—Ä—Ç–∞ –≥–æ—Ä–æ–¥–∞</h3>
  <button onclick="goTo('street')"><img src="https://img.icons8.com/ios-filled/50/ffffff/street.png"/>–£–ª–∏—Ü–∞</button>
  <button onclick="goTo('shop')"><img src="https://img.icons8.com/ios-filled/50/ffffff/shop.png"/>–ú–∞–≥–∞–∑–∏–Ω</button>
  <button onclick="goTo('home')"><img src="https://img.icons8.com/ios-filled/50/ffffff/home.png"/>–î–æ–º</button>
  <button onclick="goTo('hospital')"><img src="https://img.icons8.com/ios-filled/50/ffffff/hospital-room.png"/>–ë–æ–ª—å–Ω–∏—Ü–∞</button>
  <button onclick="goTo('prison')"><img src="https://img.icons8.com/ios-filled/50/ffffff/prison.png"/>–¢—é—Ä—å–º–∞</button>
  <button onclick="goTo('park')"><img src="https://img.icons8.com/ios-filled/50/ffffff/park.png"/>–ü–∞—Ä–∫</button>
  <button onclick="goTo('work')"><img src="https://img.icons8.com/ios-filled/50/ffffff/briefcase.png"/>–†–∞–±–æ—Ç–∞</button>
</div>

<div class="actions" id="actions"></div>
<div class="inventory" id="inventory"><h3>üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3></div>
<div id="achievements"><h3>üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3></div>
<button id="restart" onclick="startGame()" style="display:none;">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
</div>

<script>
// ---------- State ----------
let state;
const achievements = new Set();

// ---------- Items ----------
const properties = {
  "–ü–∞–ª–∞—Ç–∫–∞": {price:500, type:"own"},
  "–ß–µ—Ä–¥–∞–∫": {price:200, rent:30, type:"rent"},
  "–ö–≤–∞—Ä—Ç–∏—Ä–∞": {price:1000, rent:30, type:"rent"},
  "–î–æ–º": {price:40000, type:"own"},
  "–ü–µ–Ω—Ç—Ö–∞—É—Å": {price:200000, type:"own"}
};
const transport = {
  "–ö—Ä–æ—Å—Å–æ–≤–∫–∏": 0,
  "–í–µ–ª–æ—Å–∏–ø–µ–¥": 500,
  "–°–∫—É—Ç–µ—Ä": 2000,
  "–ú–∞—à–∏–Ω–∞": 10000,
  "–°–ø–æ—Ä—Ç–∫–∞—Ä": 50000,
  "–í–µ—Ä—Ç–æ–ª–µ—Ç": 200000
};
const education = {
  "–¢–∞–±–ª–∏—Ü–∞ —É–º–Ω–æ–∂–µ–Ω–∏—è": 2000,
  "–ë—É–∫–≤–∞—Ä–∏–∫": 5000,
  "–®–∫–æ–ª–∞ 1-5 –∫–ª–∞—Å": 8000,
  "–®–∫–æ–ª–∞ 6-12 –∫–ª–∞—Å": 10000,
  "–£–Ω–∏–≤–µ—Ä": 15000
};

// ---------- Jobs ----------
const jobs = [
  {name:"–î–≤–æ—Ä–Ω–∏–∫", salary:150, level:1, property:null, transport:null, education:"–¢–∞–±–ª–∏—Ü–∞ —É–º–Ω–æ–∂–µ–Ω–∏—è"},
  {name:"–ü–æ—á—Ç–∞–ª—å–æ–Ω", salary:300, level:1, property:null, transport:null, education:"–ë—É–∫–≤–∞—Ä–∏–∫"},
  {name:"–¢–∞–∫—Å–∏—Å—Ç", salary:500, level:2, property:null, transport:"–ú–∞—à–∏–Ω–∞", education:"–®–∫–æ–ª–∞ 1-5 –∫–ª–∞—Å"},
  {name:"–°—Ç—Ä–æ–∏—Ç–µ–ª—å", salary:800, level:3, property:null, transport:null, education:"–®–∫–æ–ª–∞ 6-12 –∫–ª–∞—Å"},
  {name:"–ò–Ω–∂–µ–Ω–µ—Ä", salary:1000, level:4, property:null, transport:null, education:"–£–Ω–∏–≤–µ—Ä"},
  {name:"–ú–µ–Ω–µ–¥–∂–µ—Ä", salary:1500, level:5, property:"–ö–≤–∞—Ä—Ç–∏—Ä–∞", transport:null, education:"–£–Ω–∏–≤–µ—Ä"},
  {name:"–ë–∞–Ω–∫–∏—Ä", salary:3000, level:6, property:"–î–æ–º", transport:null, education:"–£–Ω–∏–≤–µ—Ä"},
  {name:"–î–µ–ø—É—Ç–∞—Ç", salary:5000, level:7, property:"–î–æ–º", transport:null, education:"–£–Ω–∏–≤–µ—Ä"},
  {name:"–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç", salary:10000, level:10, property:"–ü–µ–Ω—Ç—Ö–∞—É—Å", transport:"–í–µ—Ä—Ç–æ–ª–µ—Ç", education:"–£–Ω–∏–≤–µ—Ä"}
];

// ---------- Save/Load ----------
function saveGame(){
  localStorage.setItem("gameState", JSON.stringify(state));
  localStorage.setItem("achievements", JSON.stringify([...achievements]));
}
function loadGame(){
  const s = localStorage.getItem("gameState");
  const a = localStorage.getItem("achievements");
  if(s){ state = JSON.parse(s); updateUI(); showStory("–ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∂–µ–Ω!"); }
  if(a){ JSON.parse(a).forEach(x=>achievements.add(x)); renderAchievements(); }
}

// ---------- Start ----------
function startGame(){
  state = { money:50, health:100, rep:0, xp:0, level:1, str:5, int:5, cha:5, day:1, month:1, inventory:[] };
  achievements.clear();
  renderAchievements();
  updateUI();
  showStory("–í—ã –±–æ–º–∂, –Ω–æ –≥–æ—Ç–æ–≤—ã –∫ –∂–∏–∑–Ω–∏ –≤ –≥–æ—Ä–æ–¥–µ. –í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–∫–∞—Ü–∏—é.");
  document.getElementById("restart").style.display="none";
  saveGame();
}

// ---------- UI ----------
function updateUI(){
  document.getElementById("money").textContent=state.money;
  document.getElementById("health").textContent=state.health;
  document.getElementById("rep").textContent=state.rep;
  document.getElementById("xp").textContent=state.xp;
  document.getElementById("level").textContent=state.level;
  document.getElementById("str").textContent=state.str;
  document.getElementById("int").textContent=state.int;
  document.getElementById("cha").textContent=state.cha;
  document.getElementById("day").textContent=state.day;
  document.getElementById("month").textContent=state.month;
  document.getElementById("healthBar").style.width = state.health+"%";
  document.getElementById("xpBar").style.width = Math.min(100, (state.xp/(state.level*50))*100) + "%";

  const invDiv=document.getElementById("inventory");
  invDiv.innerHTML="<h3>üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>";
  state.inventory.forEach(item=>{
    let icon="";
    if(item==="–ï–¥–∞") icon="https://img.icons8.com/ios-filled/50/ffffff/apple.png";
    if(item==="–õ–µ–∫–∞—Ä—Å—Ç–≤–æ") icon="https://img.icons8.com/ios-filled/50/ffffff/pill.png";
    if(item==="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç") icon="https://img.icons8.com/ios-filled/50/ffffff/hammer.png";
    const d=document.createElement("div");
    d.innerHTML=icon? `<img src="${icon}"/> ${item}` : item;
    invDiv.appendChild(d);
  });

  saveGame();
}

function showStory(text){
  const story=document.getElementById("story");
  story.textContent=text;
  story.classList.add("animated");
  setTimeout(()=>story.classList.remove("animated"),400);
}

function addAchievement(name){
  if(achievements.has(name)) return;
  achievements.add(name);
  renderAchievements();
  saveGame();
}

function renderAchievements(){
  const div=document.getElementById("achievements");
  div.innerHTML="<h3>üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>";
  achievements.forEach(a=>{
    const d=document.createElement("div");
    d.textContent=a;
    div.appendChild(d);
  });
}

// ---------- Actions ----------
function addAction(text, fn){
  const btn=document.createElement("button");
  btn.innerHTML=text;
  btn.onclick=fn;
  document.getElementById("actions").appendChild(btn);
}

// ---------- Locations ----------
function goTo(loc){
  state.day++;
  if(state.day>30){ state.day=1; state.month++; }
  const actionsDiv=document.getElementById("actions");
  actionsDiv.innerHTML="";
  switch(loc){
    case "work":
      showStory("–†–∞–±–æ—Ç–∞ –ø—Ä–∏–Ω–æ—Å–∏—Ç –¥–µ–Ω—å–≥–∏ –∏ –æ–ø—ã—Ç. –í—ã–±–µ—Ä–∏—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—É—é —Ä–∞–±–æ—Ç—É:");
      jobs.forEach(job=>{
        addAction(`${job.name} (+${job.salary} –≥—Ä–Ω)`, ()=>{
          if(state.level<job.level){ showStory("–£—Ä–æ–≤–µ–Ω—å —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–π –¥–ª—è —ç—Ç–æ–π —Ä–∞–±–æ—Ç—ã"); return; }
          if(job.property && !state.inventory.includes(job.property)){ showStory(`–ù—É–∂–µ–Ω ${job.property}`); return; }
          if(job.transport && !state.inventory.includes(job.transport)){ showStory(`–ù—É–∂–µ–Ω ${job.transport}`); return; }
          if(job.education && !state.inventory.includes(job.education)){ showStory(`–ù—É–∂–µ–Ω ${job.education}`); return; }

          gainMoney(job.salary);
          gainXP(Math.floor(job.salary/10));
          showStory(`–í—ã –ø–æ—Ä–∞–±–æ—Ç–∞–ª–∏ –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ ${job.name} –∏ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ ${job.salary} –≥—Ä–Ω`);
          addAchievement(`–†–∞–±–æ—Ç–∞: ${job.name}`);
        });
      });
      break;
    case "shop":
      showStory("–í—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ. –ú–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å –µ–¥—É, –ª–µ–∫–∞—Ä—Å—Ç–≤–∞ –∏–ª–∏ –≤–µ—â–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã.");
      addAction("üçé –ö—É–ø–∏—Ç—å –µ–¥—É (20$ +10 –∑–¥–æ—Ä–æ–≤—å—è)", ()=>buyItem("–ï–¥–∞",20,10));
      addAction("üíä –ö—É–ø–∏—Ç—å –ª–µ–∫–∞—Ä—Å—Ç–≤–æ (50$ +30 –∑–¥–æ—Ä–æ–≤—å—è)", ()=>buyItem("–õ–µ–∫–∞—Ä—Å—Ç–≤–æ",50,30));
      addAction("üíº –ö—É–ø–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (100$ +1 —Å–∏–ª–∞)", ()=>buyItem("–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç",100,0,"str"));
      Object.keys(properties).forEach(p=>addAction(`üè† –ö—É–ø–∏—Ç—å ${p} (${properties[p].price} –≥—Ä–Ω)`, ()=>buyPermanentItem(p)));
      Object.keys(transport).forEach(t=>addAction(`üõµ –ö—É–ø–∏—Ç—å ${t} (${transport[t]} –≥—Ä–Ω)`, ()=>buyPermanentItem(t)));
      Object.keys(education).forEach(e=>addAction(`üìö –ö—É–ø–∏—Ç—å ${e} (${education[e]} –≥—Ä–Ω)`, ()=>buyPermanentItem(e)));
      break;
    case "street":
      showStory("–í—ã –Ω–∞ —É–ª–∏—Ü–µ. –ú–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é —Ä–∞–±–æ—Ç—É, –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å NPC –∏–ª–∏ —Å–æ–±—ã—Ç–∏–µ.");
      addAction("üë∑ –ò—Å–∫–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é —Ä–∞–±–æ—Ç—É (+50$)", ()=>{gainMoney(50); gainXP(10); addAchievement("–ü–µ—Ä–≤—ã–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫")});
      addAction("üí¨ –ü–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å NPC", ()=>{randomNPC()});
      randomEvent(); break;
    case "home":
      showStory("–í—ã –¥–æ–º–∞. –ú–æ–∂–Ω–æ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –∏–ª–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è.");
      addAction("üõå –û—Ç–¥–æ—Ö–Ω—É—Ç—å (+20 –∑–¥–æ—Ä–æ–≤—å—è)", ()=>rest());
      addAction("üèãÔ∏è –¢—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è (+1 —Å–∏–ª–∞, +5 –æ–ø—ã—Ç–∞)", ()=>train("str"));
      addAction("üìö –£—á–∏—Ç—å –Ω–∞–≤—ã–∫–∏ (+1 –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç, +5 –æ–ø—ã—Ç–∞)", ()=>train("int"));
      addAction("üí¨ –û–±—â–µ–Ω–∏–µ (+1 —Ö–∞—Ä–∏–∑–º–∞, +5 –æ–ø—ã—Ç–∞)", ()=>train("cha"));
      break;
    case "hospital":
      showStory("–í—ã –≤ –±–æ–ª—å–Ω–∏—Ü–µ. –õ–µ—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ.");
      addAction("üíâ –õ–µ—á–µ–Ω–∏–µ (-50$)", ()=>heal(50)); break;
    case "prison":
      showStory("–í—ã –≤ —Ç—é—Ä—å–º–µ! –û—Ç—Å–∏–¥–∫–∞ —Å–Ω–∏–∂–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ, –Ω–æ –∏–¥—ë—Ç –≤—Ä–µ–º—è.");
      addAction("üïí –û—Ç—Å–∏–¥–µ—Ç—å –¥–µ–Ω—å (-20 –∑–¥–æ—Ä–æ–≤—å—è)", ()=>prisonDay()); break;
    case "park":
      showStory("–ü–∞—Ä–∫ ‚Äî –æ—Ç–ª–∏—á–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π.");
      addAction("üö∂ –ü—Ä–æ–≥—É–ª—è—Ç—å—Å—è", ()=>randomEvent());
      addAction("üí¨ –í—Å—Ç—Ä–µ—Ç–∏—Ç—å NPC", ()=>randomNPC()); break;
  }
  updateUI();
}

// ---------- Game Logic ----------
function gainMoney(amount){ state.money+=amount; showStory(`–í—ã –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ ${amount}$`); updateUI(); }
function gainXP(amount){ 
  state.xp+=amount; 
  while(state.xp >= state.level*50){ 
    state.xp -= state.level*50; 
    state.level++; 
    showStory(`üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ —É—Ä–æ–≤–Ω—è ${state.level}`); 
    addAchievement("–ù–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å"); 
  } 
  updateUI(); 
}

function buyItem(name,cost,heal="",skill=""){ 
  if(state.money<cost){ showStory("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥"); return; } 
  state.money-=cost; 
  state.inventory.push(name); 
  if(heal) state.health=Math.min(100,state.health+heal); 
  if(skill) state[skill]+=1; 
  showStory(`–í—ã –∫—É–ø–∏–ª–∏ ${name}${heal? " –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∑–¥–æ—Ä–æ–≤—å–µ":""}${skill? " –∏ –ø—Ä–æ–∫–∞—á–∞–ª–∏ "+skill:""}`); 
  checkDeath();
  updateUI(); 
}
function rest(){ state.health=Math.min(100,state.health+20); showStory("–í—ã –æ—Ç–¥–æ—Ö–Ω—É–ª–∏"); updateUI(); }
function heal(cost){ 
  if(state.money<cost){ showStory("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥"); return; } 
  state.money-=cost; state.health=100; showStory("–í—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ª–µ—á–∏–ª–∏—Å—å!"); updateUI(); 
}
function prisonDay(){ state.health-=20; showStory("–í—ã –ø—Ä–æ–≤–µ–ª–∏ –¥–µ–Ω—å –≤ —Ç—é—Ä—å–º–µ. –ó–¥–æ—Ä–æ–≤—å–µ -20"); checkDeath(); updateUI(); }
function train(skill){ state[skill]+=1; gainXP(5); showStory(`–í—ã –ø—Ä–æ–∫–∞—á–∞–ª–∏ ${skill} +1 –∏ –ø–æ–ª—É—á–∏–ª–∏ 5 –æ–ø—ã—Ç–∞`); updateUI(); }

function randomEvent(){ 
  const r=Math.random(); 
  if(r<0.25){ 
    const dmg=Math.floor(Math.random()*15+5); 
    state.health-=dmg; 
    showStory(`‚ö° –°–ª—É—á–∞–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –ø–æ—Å—Ç—Ä–∞–¥–∞–ª–∏, -${dmg} –∑–¥–æ—Ä–æ–≤—å—è`); 
    checkDeath(); 
  } else if(r<0.5){
    const money=Math.floor(Math.random()*30+10);
    gainMoney(money);
    showStory(`üéÅ –°–ª—É—á–∞–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ! –í—ã –Ω–∞—à–ª–∏ ${money}$`);
  } else {
    showStory("–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ—à–ª–æ —Å–ø–æ–∫–æ–π–Ω–æ.");
  }
  updateUI(); 
}

function randomNPC(){ 
  const events=[
    "NPC –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ä–∞–±–æ—Ç—É: +50$",
    "NPC —Ä—É–≥–∞–µ—Ç –≤–∞—Å: -5 —Ä–µ–ø—É—Ç–∞—Ü–∏–∏",
    "–í—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏ –¥—Ä—É–≥–∞: +10 —Ä–µ–ø—É—Ç–∞—Ü–∏–∏",
    "NPC –æ–±—É—á–∞–µ—Ç –≤–∞—Å (+1 –Ω–∞–≤—ã–∫–∞ —Å–ª—É—á–∞–π–Ω—ã–π)",
    "NPC –¥–∞—ë—Ç –ø–æ–¥–∞—Ä–æ–∫: +20$"
  ]; 
  const e=events[Math.floor(Math.random()*events.length)]; 
  if(e.includes("–Ω–∞–≤—ã–∫–∞ —Å–ª—É—á–∞–π–Ω—ã–π")){
    const skills=["str","int","cha"];
    const s=skills[Math.floor(Math.random()*3)];
    state[s]+=1; 
    showStory(`NPC –æ–±—É—á–∏–ª –≤–∞—Å. –ü—Ä–æ–∫–∞—á–∞–Ω ${s} +1`); 
  } else if(e.includes("+50$")) state.money+=50; 
  else if(e.includes("+20$")) state.money+=20;
  else if(e.includes("-5 —Ä–µ–ø—É—Ç–∞—Ü–∏–∏")) state.rep-=5; 
  else if(e.includes("+10 —Ä–µ–ø—É—Ç–∞—Ü–∏–∏")) state.rep+=10;
  else showStory(e); 
  gainXP(5); updateUI(); 
}

function invest(){ 
  if(state.money<50){ showStory("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥"); return; } 
  state.money-=50; 
  if(Math.random()<0.5){ state.money+=100; showStory("–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! +100$"); addAchievement("–ü–µ—Ä–≤—ã–π –∫–∞–ø–∏—Ç–∞–ª"); } 
  else showStory("–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –ø—Ä–æ–≤–∞–ª–∏–ª–∞—Å—å..."); 
  updateUI(); 
}

function buyPermanentItem(itemName){
  let price=0;
  if(properties[itemName]) price=properties[itemName].price;
  else if(transport[itemName]) price=transport[itemName];
  else if(education[itemName]) price=education[itemName];
  else { showStory("–ü—Ä–µ–¥–º–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω"); return; }

  if(state.money<price){ showStory("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥"); return; }
  state.money -= price;
  if(!state.inventory.includes(itemName)) state.inventory.push(itemName);
  showStory(`–í—ã –∫—É–ø–∏–ª–∏ ${itemName} –Ω–∞ –≤—Å–µ–≥–¥–∞ –∑–∞ ${price} –≥—Ä–Ω`);
  updateUI();
}

function checkDeath(){
  if(state.health <=0){ showStory("–í—ã —É–º–µ—Ä–ª–∏. –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã."); document.getElementById("restart").style.display="block"; }
}

startGame();
loadGame();
</script>
</body>
</html>





















































































