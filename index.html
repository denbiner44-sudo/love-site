<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ì–æ—Ä–æ–¥</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family:Arial;
  background:linear-gradient(135deg,#0f2027,#2c5364);
  color:#fff;
  padding:20px;
}

.container{
  max-width:900px;
  margin:auto;
  background:rgba(0,0,0,0.6);
  border-radius:15px;
  padding:20px;
  text-align:center;
}

#map{
  display:grid;
  grid-template-columns:repeat(5,80px);
  gap:5px;
  justify-content:center;
  margin:20px 0;
}

.cell{
  width:80px;
  height:80px;
  background:#1e8449;
  border-radius:8px;
  font-size:40px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}

.shop{
  margin-top:10px;
}

button{
  padding:10px;
  margin:5px;
  border:none;
  border-radius:8px;
  cursor:pointer;
}

.selected{
  background:#f39c12;
}

a{
  display:block;
  margin-top:20px;
  color:#ffd700;
  text-decoration:none;
  font-size:18px;
}
</style>
</head>

<body>
<div class="container">

<h1>üèô –í–∞—à –≥–æ—Ä–æ–¥</h1>
<p>–ú–æ–Ω–µ—Ç—ã: <span id="coins">0</span></p>

<div id="map"></div>

<div class="shop">
<p>–í—ã–±–µ—Ä–∏ –∑–¥–∞–Ω–∏–µ:</p>

<button onclick="select('house')">üè† –î–æ–º (100)</button>
<button onclick="select('shop')">üè™ –ú–∞–≥–∞–∑–∏–Ω (500)</button>
<button onclick="select('factory')">üè≠ –§–∞–±—Ä–∏–∫–∞ (2000)</button>
<button onclick="select('park')">üå≥ –ü–∞—Ä–∫ (800)</button>
</div>

<a href="index.html">‚¨Ö –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∫–ª–∏–∫–µ—Ä</a>

</div>

<script>
let coins = +localStorage.getItem("coins") || 0;
const coinsEl = document.getElementById("coins");

const prices = {
  house:100,
  shop:500,
  factory:2000,
  park:800
};

const icons = {
  house:"üè†",
  shop:"üè™",
  factory:"üè≠",
  park:"üå≥"
};

let selected = null;

function select(type){
  selected = type;
}

let city = JSON.parse(localStorage.getItem("city")) || {};

const map = document.getElementById("map");

for(let i=0;i<25;i++){
  let cell = document.createElement("div");
  cell.className="cell";
  cell.dataset.id=i;

  if(city[i]){
    cell.textContent = icons[city[i]];
  }

  cell.onclick = ()=>{
    if(!selected) return;

    let price = prices[selected];

    if(coins>=price && !city[i]){
      coins -= price;
      city[i] = selected;

      if(!city[selected]){
        city[selected] = {level:0};
      }

      city[selected].level++;

      cell.textContent = icons[selected];

      save();
    }
  };

  map.appendChild(cell);
}

function save(){
  localStorage.setItem("coins", coins);
  localStorage.setItem("city", JSON.stringify(city));
  update();
}

function update(){
  coinsEl.textContent = Math.floor(coins);
}

update();
</script>
</body>
</html>


























































































































